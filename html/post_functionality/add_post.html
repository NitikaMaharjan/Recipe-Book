<html>
    <head>
        <title>Recipebook</title>
        <link rel="stylesheet" href="/RecipeBook/Recipe-Book/css/add_post.css" type="text/css">
        <link rel="icon" href="/RecipeBook/Recipe-Book/logo/logo4.png" type="image/png">
    </head>
    <body>
        <img onclick="go_back()" class="back-button" src="/RecipeBook/Recipe-Book/buttons/back_button.png" title="Go back" onmouseover="onHoverBack()" onmouseout="noHoverBack()">
        <h1>Add <span style="color:#ffbf17;">New Recipe</span></h1>
        <form action="/RecipeBook/Recipe-Book/php/post_functionality/add_post.php" method="POST" enctype="multipart/form-data">

            <label for="post_image">Recipe Image:</label>
            <input type="file" name="post_image" accept="image" id="post_image" required />

            <label for="post_title">Recipe Title:</label>
            <input type="text" name="post_title" id="post_title" required />

            <label for="post_ingredients">Ingredients:</label>
            <div id="ingredients_container">
                <input type="text" name="post_ingredients[]" placeholder="Enter ingredient" required />
            </div>
            <img class="add-btn" onclick="addIngredientField()" width="30px" style="background-color:transparent;cursor: pointer;"
                src="/RecipeBook/Recipe-Book/buttons/add_button.png" title="Add Ingredient">

            <label for="post_instructions">Preparation steps:</label>
            <div id="steps_container">
                <textarea name="post_instructions[]" placeholder="Enter preparation step" required></textarea>
            </div>
            <img class="add-btn" onclick="addStepField()" width="30px" style="background-color:transparent;cursor: pointer;"
                src="/RecipeBook/Recipe-Book/buttons/add_button.png" title="Add Preparation Step">

            <label for="post_keywords">Hashtags:</label>
            <input type="text" name="post_keywords" id="post_keywords" Placeholder="#cheese, #potato,..." required />

            <label for="post_category">Category:</label>
            <input type="text" name="post_category" id="post_category" required />

            <label for="post_text">Note:</label>
            <textarea name="post_text" id="post_text" placeholder="Add your personal note" required></textarea>

            <input type="submit" value="Add Recipe" />

        </form>
        <br/>
    </body>
    <script>
        function go_back() {
            window.history.back();
        }

        function onHoverBack(){
            document.querySelector('.back-button').src = '/RecipeBook/Recipe-Book/buttons/back_button2.png';
        }

        function noHoverBack(){
            document.querySelector('.back-button').src = '/RecipeBook/Recipe-Book/buttons/back_button.png';
        }

        function addIngredientField() {
            let container = document.getElementById("ingredients_container");
            let input = document.createElement("input");
            input.type = "text";
            input.name = "post_ingredients[]";
            input.placeholder = "Enter ingredient";
            container.appendChild(input);
            container.appendChild(document.createElement("br"));
        }

        function addStepField() {
            let container = document.getElementById("steps_container");
            let input = document.createElement("textarea");
            input.name = "post_instructions[]";
            input.placeholder = "Enter preparation step";
            container.appendChild(input);
            container.appendChild(document.createElement("br"));
        }
    </script>
</html>