<html>

<head>
    <title>Recipebook</title>

    <script>
        function addIngredientField() {
            let container = document.getElementById("ingredients_container");
            let input = document.createElement("input");
            input.type = "text";
            input.name = "post_ingredients[]";
            input.placeholder = "Enter ingredient";
            container.appendChild(input);
            container.appendChild(document.createElement("br"));
        }

        function addStepField() {
            let container = document.getElementById("steps_container");
            let input = document.createElement("textarea");
            input.name = "post_instructions[]";
            input.placeholder = "Enter preparation step";
            container.appendChild(input);
            container.appendChild(document.createElement("br"));
        }

    </script>
</head>

<body>
    <button onclick="go_back()">Go Back</button>
    <h1>Add a new recipe</h1>
    <form action="/RecipeBook/Recipe-Book/php/post_functionality/add_post.php" method="POST"
        enctype="multipart/form-data">

        <label for="post_image">Post Image:</label>
        <input type="file" name="post_image" accept="image" id="post_image" required /><br /><br />

        <label for="post_title">Post Title:</label>
        <input type="text" name="post_title" id="post_title" required /><br /><br />

        <label for="post_ingredients">Ingredients:</label>
        <div id="ingredients_container">
            <input type="text" name="post_ingredients[]" placeholder="Enter ingredient" required /><br />
        </div>
        <img onclick="addIngredientField()" width="30px" style="background-color:transparent;cursor: pointer;"
            src="/RecipeBook/Recipe-Book/buttons/add_button.png" title="Add Ingredient"><br /><br />

        <label for="post_instructions">Preparation:</label>
        <div id="steps_container">
            <textarea name="post_instructions[]" placeholder="Enter preparation step" required></textarea><br />
        </div>
        <img onclick="addStepField()" width="30px" style="background-color:transparent;cursor: pointer;"
            src="/RecipeBook/Recipe-Book/buttons/add_button.png" title="Add Step"><br /><br />

        <label for="post_keywords">Keywords:</label>
        <input type="text" name="post_keywords" id="post_keywords" Placeholder="#tasty, #yummy,..."
            required /><br /><br />

        <label for="post_category">Category:</label>
        <input type="text" name="post_category" id="post_category" required /><br /><br />

        <label for="post_text">Description :</label>
        <input type="text" name="post_text" id="post_text" required /><br /><br />

        <input type="submit" value="Add Recipe" />

    </form>
</body>
<script>
    function go_back() {
        window.history.back();
    }
</script>

</html>